(self.webpackChunkTely=self.webpackChunkTely||[]).push([[860],{1386:(e,t,n)=>{"use strict";n.d(t,{R$:()=>r,ts:()=>l,uK:()=>a});var i=n(69525);function r(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"MM-dd-yyyy";return(0,i.A)(new Date(e),t)}function l(e){return(0,i.A)(new Date(e),"dd MMMM yyyy")}function a(e){return(0,i.A)(new Date(e),"dd MMM yyyy HH:mm")}},4494:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>r,hz:()=>a,xl:()=>s});var i=n(65043);function r(e){const[t,n]=(0,i.useState)((null===e||void 0===e?void 0:e.defaultDense)||!1),[r,l]=(0,i.useState)((null===e||void 0===e?void 0:e.defaultOrderBy)||"name"),[a,s]=(0,i.useState)((null===e||void 0===e?void 0:e.defaultOrder)||"asc"),[o,d]=(0,i.useState)((null===e||void 0===e?void 0:e.defaultCurrentPage)||0),[c,h]=(0,i.useState)((null===e||void 0===e?void 0:e.defaultRowsPerPage)||5),[x,u]=(0,i.useState)((null===e||void 0===e?void 0:e.defaultSelected)||[]);return{dense:t,order:a,page:o,setPage:d,orderBy:r,rowsPerPage:c,selected:x,setSelected:u,onSelectRow:e=>{const t=x.indexOf(e);let n=[];-1===t?n=n.concat(x,e):0===t?n=n.concat(x.slice(1)):t===x.length-1?n=n.concat(x.slice(0,-1)):t>0&&(n=n.concat(x.slice(0,t),x.slice(t+1))),u(n)},onSelectAllRows:(e,t)=>{u(e?t:[])},onSort:e=>{""!==e&&(s(r===e&&"asc"===a?"desc":"asc"),l(e))},onChangePage:(e,t)=>{d(t)},onChangeDense:e=>{n(e.target.checked)},onChangeRowsPerPage:e=>{h(parseInt(e.target.value,10)),d(0)}}}function l(e,t,n){return t[n]<e[n]?-1:t[n]>e[n]?1:0}function a(e,t){return"desc"===e?(e,n)=>l(e,n,t):(e,n)=>-l(e,n,t)}function s(e,t,n){const i=t-Math.min(t,n-e*t);return Math.max(0,i)}},21152:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var i=n(65043);function r(e){const[t,n]=(0,i.useState)(e||"");return{currentTab:t,onChangeTab:(e,t)=>{n(t)},setCurrentTab:n}}},24753:(e,t,n)=>{"use strict";n.d(t,{A:()=>A});var i=n(89379),r=n(80045),l=n(90620),a=n.n(l),s=n(96446),o=n(85865),d=n(88446),c=n(35475),h=n(22698),x=n(70579);const u=["links","activeLast"];function g(e){let{links:t,activeLast:n=!1}=e,l=(0,r.A)(e,u);const a=t[t.length-1].name,d=t.map(e=>(0,x.jsx)(p,{link:e},e.name)),c=t.map(e=>(0,x.jsx)("div",{children:e.name!==a?(0,x.jsx)(p,{link:e}):(0,x.jsx)(o.A,{variant:"body2",sx:{maxWidth:260,overflow:"hidden",whiteSpace:"nowrap",color:"text.disabled",textOverflow:"ellipsis"},children:a})},e.name));return(0,x.jsx)(h.A,(0,i.A)((0,i.A)({separator:(0,x.jsx)(s.A,{component:"span",sx:{width:4,height:4,borderRadius:"50%",bgcolor:"text.disabled"}})},l),{},{children:n?d:c}))}function p(e){let{link:t}=e;const{href:n,name:i,icon:r}=t;return(0,x.jsxs)(d.A,{variant:"body2",component:c.N_,to:n||"#",sx:{lineHeight:2,display:"flex",alignItems:"center",color:"text.primary","& > div":{display:"inherit"}},children:[r&&(0,x.jsx)(s.A,{sx:{mr:1,"& svg":{width:20,height:20}},children:r}),i]},i)}const m=["links","action","heading","moreLink","sx"];function A(e){let{links:t,action:n,heading:l,moreLink:c=[],sx:h}=e,u=(0,r.A)(e,m);return(0,x.jsxs)(s.A,{sx:(0,i.A)({mb:5},h),children:[(0,x.jsxs)(s.A,{sx:{display:"flex",alignItems:"center"},children:[(0,x.jsxs)(s.A,{sx:{flexGrow:1},children:[(0,x.jsx)(o.A,{variant:"h4",gutterBottom:!0,children:l}),(0,x.jsx)(g,(0,i.A)({links:t},u))]}),n&&(0,x.jsx)(s.A,{sx:{flexShrink:0},children:n})]}),(0,x.jsx)(s.A,{sx:{mt:2},children:a()(c)?(0,x.jsx)(d.A,{href:c,target:"_blank",rel:"noopener",variant:"body2",children:c}):c.map(e=>(0,x.jsx)(d.A,{noWrap:!0,href:e,variant:"body2",target:"_blank",rel:"noopener",sx:{display:"table"},children:e},e))})]})}},42907:(e,t,n)=>{var i=n(9096),r=n(99910);e.exports=function(e,t){return e&&e.length?r(e,i(t,2)):0}},59860:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>X});var i=n(42907),r=n.n(i),l=n(65043),a=n(73216),s=n(26240),o=n(19252),d=n(12110),c=n(88911),h=n(39336),x=n(79650),u=n(71806),g=n(73460),p=n(96446),m=n(19090),A=n(74605),v=n(4598),f=n(95719),j=n(49092),w=n(58956),b=n(76053),y=n(34866),S=n(48407),k=n(21152),C=n(11737),_=n(4494),P=n(19838),R=n(50467),D=n(20974),M=n(31802),T=n(24753),B=n(68886),I=n(81637),F=n(85865),W=n(73338),z=n(70579);function O(e){let{title:t,total:n,icon:i,color:r,percent:l,price:a}=e;const{t:s}=(0,j.B)();return(0,z.jsxs)(c.A,{direction:"row",alignItems:"center",justifyContent:"center",sx:{width:1,minWidth:200},children:[(0,z.jsxs)(c.A,{alignItems:"center",justifyContent:"center",sx:{position:"relative"},children:[(0,z.jsx)(D.A,{icon:i,sx:{color:r,width:24,height:24,position:"absolute"}}),(0,z.jsx)(I.A,{variant:"determinate",value:l,size:56,thickness:4,sx:{color:r}}),(0,z.jsx)(I.A,{variant:"determinate",value:100,size:56,thickness:4,sx:{color:"grey.50016",position:"absolute",top:0,left:0,opacity:.48}})]}),(0,z.jsxs)(c.A,{spacing:.5,sx:{ml:2},children:[(0,z.jsx)(F.A,{variant:"h6",children:t}),(0,z.jsx)(F.A,{variant:"subtitle2",sx:{color:r},children:(0,W.KZ)(a)})]})]})}var N=n(28076),E=n(10039),L=n(32143),G=n(1386);function Z(e){let{row:t,selected:n,onSelectRow:i,onViewRow:r}=e;const a=(0,s.A)(),[o,d]=(0,l.useState)(null),c=()=>{d(null)},{t:h}=(0,j.B)();return(0,z.jsxs)(N.A,{hover:!0,selected:n,children:[(0,z.jsx)(E.A,{align:"left",children:null===t||void 0===t?void 0:t.ref_code}),(0,z.jsx)(E.A,{align:"center",children:(null===t||void 0===t?void 0:t.vendor_name)||"-"}),(0,z.jsx)(E.A,{align:"center",children:null===t||void 0===t?void 0:t.game_name}),(0,z.jsx)(E.A,{align:"center",children:(0,G.uK)(null===t||void 0===t?void 0:t.created_on)}),(0,z.jsx)(E.A,{align:"center",children:(0,W.KZ)(null===t||void 0===t?void 0:t.mise)}),(0,z.jsx)(E.A,{align:"center",children:(0,W.KZ)(null===t||void 0===t?void 0:t.gain)}),(0,z.jsx)(E.A,{align:"center",children:(0,z.jsx)(R.A,{variant:"light"===a.palette.mode?"ghost":"filled",color:("WIN"===(null===t||void 0===t?void 0:t.status)?"success":"PENDING"===(null===t||void 0===t?void 0:t.status)&&"warning")||"WRONG"===(null===t||void 0===t?void 0:t.status)&&"error"||"default",sx:{textTransform:"uppercase",mb:1},children:null===t||void 0===t?void 0:t.status})}),(0,z.jsx)(E.A,{align:"right",children:(0,z.jsx)(B.ZE,{open:o,onOpen:e=>{d(e.currentTarget)},onClose:c,actions:(0,z.jsx)(z.Fragment,{children:(0,z.jsxs)(L.A,{onClick:()=>{r(),c()},disabled:!0,children:[(0,z.jsx)(D.A,{icon:"eva:eye-fill"}),h("field.view")]})})})})]})}var H=n(89379),K=n(35866),U=n(77739),$=n(51787),Q=n(72812),V=n(78789);const q=160;function J(e){let{users:t,games:n,filterStartDate:i,filterEndDate:r,filterName:l,filterUser:a,filterGame:s,onFilterName:o,onFilterUser:d,onFilterGame:h,onFilterStartDate:x,onFilterEndDate:u,placeholder:g="Search ...",loadText:p="Load",title:m="Filter list",handleRefresh:A,isLoading:v}=e;const{t:f}=(0,j.B)();return(0,z.jsxs)(c.A,{spacing:2,sx:{py:2.5,px:3},children:[(0,z.jsxs)(c.A,{spacing:2,direction:{xs:"column",md:"row"},children:[(0,z.jsx)(K.A,{fullWidth:!0,select:!0,label:f("field.user"),value:a,onChange:d,SelectProps:{MenuProps:{sx:{"& .MuiPaper-root":{maxHeight:260}}}},sx:{textTransform:"capitalize",maxWidth:{md:q}},children:null===t||void 0===t?void 0:t.map(e=>(0,z.jsx)(L.A,{value:e.uid,sx:{mx:1,my:.5,borderRadius:.75,typography:"body2",textTransform:"capitalize"},children:e.full_name},e.uid))}),(0,z.jsx)(K.A,{fullWidth:!0,select:!0,label:f("field.game"),value:s,onChange:h,SelectProps:{MenuProps:{sx:{"& .MuiPaper-root":{maxHeight:260}}}},sx:{textTransform:"capitalize",maxWidth:{md:q}},children:null===n||void 0===n?void 0:n.map(e=>(0,z.jsx)(L.A,{value:e.id,sx:{mx:1,my:.5,borderRadius:.75,typography:"body2",textTransform:"capitalize"},children:e.name},e.id))}),(0,z.jsx)(V.l,{label:f("field.start_date"),value:i,onChange:x,renderInput:e=>(0,z.jsx)(K.A,(0,H.A)((0,H.A)({},e),{},{fullWidth:!0}))}),(0,z.jsx)(V.l,{label:f("field.end_date"),value:r,onChange:u,renderInput:e=>(0,z.jsx)(K.A,(0,H.A)((0,H.A)({},e),{},{fullWidth:!0}))}),(0,z.jsx)(U.A,{title:m,children:(0,z.jsx)("span",{children:(0,z.jsx)(Q.A,{startIcon:(0,z.jsx)(D.A,{icon:"ic:round-filter-list"}),variant:"contained",onClick:A,loading:v,size:"large",children:p})})})]}),(0,z.jsx)(K.A,{fullWidth:!0,value:l,onChange:e=>o(e.target.value),placeholder:g,InputProps:{startAdornment:(0,z.jsx)($.A,{position:"start",children:(0,z.jsx)(D.A,{icon:"eva:search-fill",sx:{color:"text.disabled",width:20,height:20}})})}})]})}function X(){const e=(0,s.A)(),{themeStretch:t}=(0,C.A)(),n=(0,a.Zp)(),{t:i}=(0,j.B)(),R=[{id:"ref_code",label:i("field.ref_code"),align:"left"},{id:"full_name",label:i("field.full_name"),align:"center"},{id:"game",label:i("field.game"),align:"center"},{id:"created_on",label:i("field.created_on"),align:"center"},{id:"montant",label:i("field.montant"),align:"center"},{id:"gain",label:i("field.win"),align:"center"},{id:"status",label:i("field.status"),align:"center"},{id:"",align:"right"}],D=(0,f.wA)(),{enqueueSnackbar:I}=(0,w.dh)(),{dense:F,page:W,order:N,orderBy:E,rowsPerPage:L,setPage:H,selected:K,setSelected:U,onSelectRow:$,onSelectAllRows:Q,onSort:V,onChangeDense:q,onChangePage:X,onChangeRowsPerPage:Y}=(0,_.Ay)({defaultOrderBy:"tirage_name"}),{tickets:ee,isLoading:te}=(0,f.d4)(e=>e.ticket),{users:ne,games:ie}=(0,f.d4)(e=>e.generale),[re,le]=(0,l.useState)([]),[ae,se]=(0,l.useState)(""),[oe,de]=(0,l.useState)("All"),[ce,he]=(0,l.useState)("All"),[xe,ue]=(0,l.useState)(new Date),[ge,pe]=(0,l.useState)(new Date),{currentTab:me,onChangeTab:Ae}=(0,k.A)("all"),ve=()=>{D((0,b.oP)(W+1,L,ae,(0,G.R$)(xe,"yyyy-M-d"),(0,G.R$)(ge,"yyyy-M-d"),oe,ce)),D((0,y.lo)()),D((0,y.yr)())};(0,l.useEffect)(()=>{ve()},[D,W,L,ae]),(0,l.useEffect)(()=>{(null===ee||void 0===ee?void 0:ee.count)>0?le(null===ee||void 0===ee?void 0:ee.data):le([])},[ee]);const fe=function(e){let{tableData:t,comparator:n,filterName:i,filterStatus:r}=e;const l=t.map((e,t)=>[e,t]);return l.sort((e,t)=>{const i=n(e[0],t[0]);return 0!==i?i:e[1]-t[1]}),t=l.map(e=>e[0]),t}({tableData:re,comparator:(0,_.hz)(N,E),filterName:ae,filterStatus:me}),je=F?56:76,we=!fe.length&&!!ae||!fe.length&&!!me||!te&&!fe.length,be=()=>r()(re,"mise"),ye=()=>r()(re,"gain");return(0,z.jsx)(P.A,{title:"Ticket: ".concat(i("p_ticket.ticket_list")),children:(0,z.jsxs)(o.A,{maxWidth:!t&&"lg",children:[(0,z.jsx)(T.A,{heading:i("p_ticket.ticket_list"),links:[{name:i("params.dashboard"),href:S.nB.root},{name:i("p_ticket.ticket"),href:S.nB.ticket.root},{name:i("p_ticket.ticket_list")}]}),(0,z.jsx)(d.A,{sx:{mb:5},children:(0,z.jsx)(M.A,{children:(0,z.jsxs)(c.A,{direction:"row",divider:(0,z.jsx)(h.A,{orientation:"vertical",flexItem:!0,sx:{borderStyle:"dashed"}}),sx:{py:2},children:[(0,z.jsx)(O,{title:i("app.total_ticket"),percent:100,price:re.length,icon:"ic:round-receipt",color:e.palette.info.main}),(0,z.jsx)(O,{title:i("app.total_montant"),percent:100,price:be(),icon:"eva:checkmark-circle-2-fill",color:e.palette.success.main}),(0,z.jsx)(O,{title:i("app.total_perte"),percent:100,price:ye(),icon:"mdi:cash-check",color:e.palette.error.main}),(0,z.jsx)(O,{title:i("app.total_balance"),percent:100,price:be()-ye(),icon:"flowbite:cash-register-solid",color:e.palette.warning.main})]})})}),(0,z.jsxs)(d.A,{children:[(0,z.jsx)(J,{filterName:ae,filterUser:oe,filterGame:ce,filterStartDate:xe,filterEndDate:ge,onFilterName:e=>{se(e),H(0)},onFilterUser:e=>{de(e.target.value)},onFilterGame:e=>{he(e.target.value)},onFilterStartDate:e=>{ue(e)},onFilterEndDate:e=>{pe(e)},users:ne,games:ie,handleRefresh:ve,isLoading:te,placeholder:i("params.search",{obj:i("p_ticket.ticket")}),loadText:i("params.load"),title:i("params.filter_list")}),(0,z.jsx)(M.A,{children:(0,z.jsxs)(x.A,{sx:{minWidth:800,position:"relative"},children:[K.length>0&&(0,z.jsx)(B.r1,{dense:F,numSelected:K.length,rowCount:re.length,selectedText:i("params.selected"),onSelectAllRows:e=>Q(e,re.map(e=>e.id))}),(0,z.jsxs)(u.A,{size:F?"small":"medium",children:[(0,z.jsx)(B.er,{order:N,orderBy:E,headLabel:R,rowCount:re.length,numSelected:K.length,onSort:V}),(0,z.jsxs)(g.A,{children:[(te?[...Array(L)]:fe).map((e,t)=>e?(0,z.jsx)(Z,{row:e,selected:K.includes(e.id),onSelectRow:()=>$(e.id),onViewRow:()=>{return t=e.id,void n(S.nB.ticket.view(t));var t}},e.id):!we&&(0,z.jsx)(B.Qv,{sx:{height:je}},t)),(0,z.jsx)(B.dO,{height:je,emptyRows:(0,_.xl)(W,re.length,re.length+ee.count)}),(0,z.jsx)(B.Sm,{isNotFound:we,title:i("params.no_data"),colSpan:10})]})]})]})}),(0,z.jsxs)(p.A,{sx:{position:"relative"},children:[(0,z.jsx)(m.A,{rowsPerPageOptions:[5,25,50,100,{label:i("params.all"),value:99999}],component:"div",count:ee.count,rowsPerPage:L,page:W,onPageChange:X,onRowsPerPageChange:Y,labelRowsPerPage:i("params.row_per_page")}),(0,z.jsx)(A.A,{control:(0,z.jsx)(v.A,{checked:F,onChange:q}),label:i("params.dense"),sx:{px:3,py:1.5,top:0,position:{md:"absolute"}}})]})]})]})})}},68886:(e,t,n)=>{"use strict";n.d(t,{dO:()=>y,er:()=>R,ZE:()=>v,Sm:()=>g,r1:()=>D,Qv:()=>b});var i=n(28076),r=n(10039),l=n(89379),a=n(80045),s=n(34535),o=n(85865),d=n(73856),c=n(70579);const h=["title","description","img"],x=(0,s.Ay)("div")(e=>{let{theme:t}=e;return{height:"100%",display:"flex",textAlign:"center",alignItems:"center",flexDirection:"column",justifyContent:"center",padding:t.spacing(8,2)}});function u(e){let{title:t,description:n,img:i}=e,r=(0,a.A)(e,h);return(0,c.jsxs)(x,(0,l.A)((0,l.A)({},r),{},{children:[(0,c.jsx)(d.A,{disabledEffect:!0,visibleByDefault:!0,alt:"empty content",src:i||"/static/assets/illustrations/illustration_empty_content.svg",sx:{height:240,mb:3}}),(0,c.jsx)(o.A,{variant:"h5",gutterBottom:!0,children:t}),n&&(0,c.jsx)(o.A,{variant:"body2",sx:{color:"text.secondary"},children:n})]}))}function g(e){let{colSpan:t,isNotFound:n,title:l="no data"}=e;return(0,c.jsx)(c.Fragment,{children:n?(0,c.jsx)(i.A,{children:(0,c.jsx)(r.A,{colSpan:t,children:(0,c.jsx)(u,{title:l,sx:{"& span.MuiBox-root":{height:160}}})})}):(0,c.jsx)(i.A,{children:(0,c.jsx)(r.A,{colSpan:t,sx:{p:0}})})})}var p=n(17392),m=n(20974),A=n(29401);function v(e){let{actions:t,open:n,onClose:i,onOpen:r}=e;return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(p.A,{onClick:r,children:(0,c.jsx)(m.A,{icon:"eva:more-vertical-fill",width:20,height:20})}),(0,c.jsx)(A.A,{open:Boolean(n),anchorEl:n,onClose:i,anchorOrigin:{vertical:"top",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"right"},arrow:"right-top",sx:{mt:-1,width:160,"& .MuiMenuItem-root":{px:1,typography:"body2",borderRadius:.75,"& svg":{mr:2,width:20,height:20}}},children:t})]})}var f=n(20454),j=n(88911),w=n(78185);function b(e){let t=Object.assign({},((0,f.A)(e),e));return(0,c.jsx)(i.A,(0,l.A)((0,l.A)({},t),{},{children:(0,c.jsx)(r.A,{colSpan:9,children:(0,c.jsxs)(j.A,{spacing:3,direction:"row",alignItems:"center",children:[(0,c.jsx)(w.A,{variant:"rectangular",width:40,height:40,sx:{borderRadius:1}}),(0,c.jsx)(w.A,{variant:"text",width:240,height:20}),(0,c.jsx)(w.A,{variant:"text",width:160,height:20}),(0,c.jsx)(w.A,{variant:"text",width:160,height:20}),(0,c.jsx)(w.A,{variant:"text",width:160,height:20}),(0,c.jsx)(w.A,{variant:"text",width:160,height:20})]})})}))}function y(e){let{emptyRows:t,height:n}=e;return t?(0,c.jsx)(i.A,{sx:(0,l.A)({},n&&{height:n*t}),children:(0,c.jsx)(r.A,{colSpan:9})}):null}var S=n(84882),k=n(51962),C=n(58093),_=n(96446);const P={border:0,margin:-1,padding:0,width:"1px",height:"1px",overflow:"hidden",position:"absolute",whiteSpace:"nowrap",clip:"rect(0 0 0 0)"};function R(e){let{order:t,orderBy:n,rowCount:a=0,headLabel:s,numSelected:o=0,onSort:d,onSelectAllRows:h,sx:x}=e;return(0,c.jsx)(S.A,{sx:x,children:(0,c.jsxs)(i.A,{children:[h&&(0,c.jsx)(r.A,{padding:"checkbox",children:(0,c.jsx)(k.A,{indeterminate:o>0&&o<a,checked:a>0&&o===a,onChange:e=>h(e.target.checked)})}),h&&(0,c.jsx)(r.A,{padding:"checkbox"}),s.map(e=>(0,c.jsx)(r.A,{align:e.align||"left",sortDirection:n===e.id&&t,sx:{width:e.width,minWidth:e.minWidth},children:d?(0,c.jsxs)(C.A,{hideSortIcon:!0,active:n===e.id,direction:n===e.id?t:"asc",onClick:()=>d(e.id),sx:{textTransform:"capitalize"},children:[e.label,n===e.id?(0,c.jsx)(_.A,{sx:(0,l.A)({},P),children:"desc"===t?"sorted descending":"sorted ascending"}):null]}):e.label},e.id))]})})}function D(e){let{dense:t,actions:n,rowCount:i,numSelected:r,selectedText:a,onSelectAllRows:s}=e;return(0,c.jsxs)(j.A,{direction:"row",alignItems:"center",sx:(0,l.A)({px:2,top:0,right:8,zIndex:9,height:58,borderRadius:1,position:"absolute",width:"calc(100% - 16px)",bgcolor:"primary.lighter"},t&&{pl:1,height:38}),children:[(0,c.jsx)(k.A,{indeterminate:r>0&&r<i,checked:i>0&&r===i,onChange:e=>s(e.target.checked)}),(0,c.jsxs)(o.A,{variant:"subtitle1",sx:(0,l.A)({ml:2,flexGrow:1,color:"primary.main"},t&&{ml:3}),children:[r," ",a]}),n&&n]})}},99910:e=>{e.exports=function(e,t){for(var n,i=-1,r=e.length;++i<r;){var l=t(e[i]);void 0!==l&&(n=void 0===n?l:n+l)}return n}}}]);
//# sourceMappingURL=860.2f952101.chunk.js.map